<html lang="pt-BR"></html>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="manifest" href="manifest.json">
    <link rel="canonical" href="https://viniceosm.github.io/minhaconexao/">

    <body>
        <span id="connected">Estou conectado ğŸ˜€</span><br>
        <span id="speed">0 Mbps ğŸ’€</span>
    </body>

    <style>
        body {
            background-color: #0c8256;
            color: white;

            text-align: center;
        }

        #connected {
            font-size: 2rem;
        }
        #speed {
            font-size: 1.5rem;
        }
    </style>

    <script>
        if (navigator.onLine) {
            document.querySelector("#connected").innerText = 'Estou com internet ğŸ˜€';
            document.title = 'ğŸ˜€ ConexÃ£o';
        } else {
            document.querySelector("#connected").innerText = 'Estou sem internet ğŸ˜”';
            document.title = 'ğŸ˜” ConexÃ£o';
        }
        
        window.addEventListener('offline', function(e) {
            document.querySelector("#connected").innerText = 'Estou sem internet ğŸ˜”';
            document.title = 'ğŸ˜” ConexÃ£o';
        });
        
        window.addEventListener('online', function(e) {
            document.querySelector("#connected").innerText = 'Estou com internet ğŸ˜€';
            document.title = 'ğŸ˜€ ConexÃ£o';
        });


        document.querySelector("#speed").innerText = buscaVelocidade() + ' Mbps ' + montaEmojiVelocidade();

        navigator.connection.onchange = function (e) {
            document.querySelector("#speed").innerText = buscaVelocidade() + ' Mbps' + montaEmojiVelocidade();
        }

        function buscaVelocidade() {
            var velocidade = navigator.connection.downlink;

            if (navigator.onLine == false) {
                velocidade = 0;
            }

            return velocidade;
        }

        function montaEmojiVelocidade() {
            var emojiVelocidade = 'ğŸ†';
            var velocidade = buscaVelocidade();

            if (velocidade == 0) {
                emojiVelocidade =  'ğŸ’€';
            } else if (velocidade < 1) {
                emojiVelocidade = 'ğŸŒ';
            }

            return emojiVelocidade;
        }
    </script>
</html>